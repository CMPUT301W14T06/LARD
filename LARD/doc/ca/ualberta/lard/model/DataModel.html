<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Mon Apr 07 22:27:39 MDT 2014 -->
<title>DataModel</title>
<meta name="date" content="2014-04-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataModel";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ca/ualberta/lard/model/CommentRequest.html" title="class in ca.ualberta.lard.model"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../ca/ualberta/lard/model/Favourites.html" title="class in ca.ualberta.lard.model"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ca/ualberta/lard/model/DataModel.html" target="_top">Frames</a></li>
<li><a href="DataModel.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ca.ualberta.lard.model</div>
<h2 title="Class DataModel" class="title">Class DataModel</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ca.ualberta.lard.model.DataModel</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DataModel</span>
extends java.lang.Object</pre>
<div class="block">DataModel is the data abstraction layer of the application. It handles the querying and retrieving of all comments for the applicaiton.
 Most methods in DataModel will accept a CommentRequest structure that specifies the priorities for each comment request. Default
 behaviour is always to query the internet before retrieving a local version of the comment.
 
 DataModel can be accessed by both Models and controllers - controllers use DataModel to request data, and models use DataModel to request
 information about their own state eg. is the comment stored locally?</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Troy Pavlek</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#DataModel()">DataModel</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#isLocal(ca.ualberta.lard.model.Comment, Context)">isLocal</a></strong>(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment,
       Context&nbsp;context)</code>
<div class="block">Checks if a comment is saved locally.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#readLocal(Context)">readLocal</a></strong>(Context&nbsp;context)</code>
<div class="block">Reads a comment from local storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#retrieveComments(ca.ualberta.lard.model.CommentRequest)">retrieveComments</a></strong>(<a href="../../../../ca/ualberta/lard/model/CommentRequest.html" title="class in ca.ualberta.lard.model">CommentRequest</a>&nbsp;req)</code>
<div class="block">Retrieves comments requested by client code</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#retrieveComments(ca.ualberta.lard.model.CommentRequest, Context)">retrieveComments</a></strong>(<a href="../../../../ca/ualberta/lard/model/CommentRequest.html" title="class in ca.ualberta.lard.model">CommentRequest</a>&nbsp;req,
                Context&nbsp;context)</code>
<div class="block">Performs a regular search, and if it comes up empty we try a local search as
 a last resort.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#save(ca.ualberta.lard.model.Comment)">save</a></strong>(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment)</code>
<div class="block">Saves a comment to stretchy client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#saveLocal(java.util.ArrayList, boolean, Context)">saveLocal</a></strong>(java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;&nbsp;comments,
         boolean&nbsp;persistent,
         Context&nbsp;context)</code>
<div class="block">Saves an ArrayList of comments to local storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#saveLocal(ca.ualberta.lard.model.Comment, boolean, Context, boolean)">saveLocal</a></strong>(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment,
         boolean&nbsp;persistent,
         Context&nbsp;context,
         boolean&nbsp;withChildren)</code>
<div class="block">Saves a comment to local storage</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/ualberta/lard/model/DataModel.html#update(ca.ualberta.lard.model.Comment)">update</a></strong>(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment)</code>
<div class="block">Updates a comment which already exists on the server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataModel()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataModel</h4>
<pre>public&nbsp;DataModel()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="saveLocal(ca.ualberta.lard.model.Comment, boolean, Context, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveLocal</h4>
<pre>public static&nbsp;void&nbsp;saveLocal(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment,
             boolean&nbsp;persistent,
             Context&nbsp;context,
             boolean&nbsp;withChildren)</pre>
<div class="block">Saves a comment to local storage
 <p>
 We can either be saving as a temporary measure, and store the files in a queue to be uploaded when
 we next have an internet connection, or we could be explicitly saving a Favourite or a Paper.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>comment</code> - Comment The comment object that is to be saved to disk.</dd><dd><code>persisitent</code> - boolean Is this save explicit or is it to be put in the upload queue</dd></dl>
</li>
</ul>
<a name="saveLocal(java.util.ArrayList, boolean, Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveLocal</h4>
<pre>public static&nbsp;void&nbsp;saveLocal(java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;&nbsp;comments,
             boolean&nbsp;persistent,
             Context&nbsp;context)</pre>
<div class="block">Saves an ArrayList of comments to local storage.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>comments</code> - ArrayList<Comment> The comments that we want to add to local storage</dd><dd><code>persistent</code> - boolean Do we want this to be permanently stored locally, or just until we can push to a server?</dd><dd><code>context</code> - Context Our android context</dd></dl>
</li>
</ul>
<a name="readLocal(Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLocal</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;&nbsp;readLocal(Context&nbsp;context)</pre>
<div class="block">Reads a comment from local storage.
 Assumes you are passed a context.
 Reading from local storage will only be used if stretchy comment returns null.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="save(ca.ualberta.lard.model.Comment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>public static&nbsp;boolean&nbsp;save(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment)</pre>
<div class="block">Saves a comment to stretchy client. Returns a boolean which specifies 
 if the save was successful or not.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>comment</code> - to be save</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if save was successful, otherwise false</dd></dl>
</li>
</ul>
<a name="update(ca.ualberta.lard.model.Comment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public static&nbsp;boolean&nbsp;update(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment)</pre>
<div class="block">Updates a comment which already exists on the server. Returns a boolean which
 specifies if the update was successful or not.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>comment</code> - to be updated</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if update was a success, otherwise false</dd></dl>
</li>
</ul>
<a name="retrieveComments(ca.ualberta.lard.model.CommentRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveComments</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;&nbsp;retrieveComments(<a href="../../../../ca/ualberta/lard/model/CommentRequest.html" title="class in ca.ualberta.lard.model">CommentRequest</a>&nbsp;req)</pre>
<div class="block">Retrieves comments requested by client code
 <p>
 Comments are retrieved based on best-effort given a particular CommentRequest object. Best-effort means this function may not always
 be precisely deterministic - different results will be returned based on network disconnects, or slow or decomissioned servers.
 The application will <em>not</em> attempt to continue to connect to servers that do not reply the first time, unless the user requests
 such.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - A CommentRequest object containing the parameters the user wishes to Search for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>ArrayList of comments in the usual case. Worst case, no comments at all exist, and we will return null.</dd></dl>
</li>
</ul>
<a name="retrieveComments(ca.ualberta.lard.model.CommentRequest, Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveComments</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&gt;&nbsp;retrieveComments(<a href="../../../../ca/ualberta/lard/model/CommentRequest.html" title="class in ca.ualberta.lard.model">CommentRequest</a>&nbsp;req,
                                            Context&nbsp;context)</pre>
<div class="block">Performs a regular search, and if it comes up empty we try a local search as
 a last resort. This is only performed when the comment controller has been
 given a context.
 
 The network check will speed things up if the phone does not have an active connection.
 However, the emulator will report an active connection even if the host computer
 does not have one. In order to see this at proper performance, you must disable
 data within the emulator.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - A CommentRequest object containing the parameters the user wishes to Search for.</dd><dd><code>context</code> - required for local storage</dd>
<dt><span class="strong">Returns:</span></dt><dd>ArrayList of comments in the usual case. Worst case, no comments at all exist, and we will return null.</dd></dl>
</li>
</ul>
<a name="isLocal(ca.ualberta.lard.model.Comment, Context)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLocal</h4>
<pre>public static&nbsp;boolean&nbsp;isLocal(<a href="../../../../ca/ualberta/lard/model/Comment.html" title="class in ca.ualberta.lard.model">Comment</a>&nbsp;comment,
              Context&nbsp;context)</pre>
<div class="block">Checks if a comment is saved locally. Returns a boolean which specifies if it
 is saved locally or not.
 When determining if a comment is saved locally, only compare comment IDs since
 other fields may have been edited.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>comment</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if saved locally, otherwise false</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ca/ualberta/lard/model/CommentRequest.html" title="class in ca.ualberta.lard.model"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../ca/ualberta/lard/model/Favourites.html" title="class in ca.ualberta.lard.model"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ca/ualberta/lard/model/DataModel.html" target="_top">Frames</a></li>
<li><a href="DataModel.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
